<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>首页</title>

    <script src="./js/vue.js"></script>
    <script src="./js/axios.js"></script>
</head>

<body>
<h1>一万年太久 只争朝夕</h1>

<div id="login_vue">
    <input type="submit" value="btn" @click="submit_vue()">
    <p>
        {{adm.admId}}
    </p>
    <p>
        {{adm.admName}}
    </p>
    <p>
        {{adm.admPassword}}
    </p>
    <p>
        {{adm.admPermission}}
    </p>
</div>

<script>
    new Vue({
        el:"#login_vue",

        data() {
            return {
                //管理员的信息
                adm : {
                    admId: 2,
                    admName: "admName",
                    admPassword: "admPassword",
                    admPermission: 7
                }
            }
        },

        methods:{
            submit_vue() {
                var _this = this;
                axios(
                    {
                        method: "post",
                        url: "http://localhost:8080/FileTranServer/Admin/login",
                        data: _this.adm
                    }
                ).then(function (resp) {
                    console.log(resp.data);
                    _this.adm.admId = resp.data.admId;
                    _this.adm.admPassword = resp.data.admPassword;
                    _this.adm.admName = resp.data.admName;
                });
            }
        }
    })
</script>
</body>

</html>